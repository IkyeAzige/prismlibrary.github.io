<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Using the Navigation Service | Prism </title>
    <meta name="viewport" content="width=device-width">
    <meta name="title" content="Using the Navigation Service | Prism ">
    <meta name="generator" content="docfx 2.25.2.0">
    
    <link rel="shortcut icon" href="../../favicon.ico">
    <link rel="stylesheet" href="../../styles/docfx.vendor.css">
    <link rel="stylesheet" href="../../styles/docfx.css">
    <link rel="stylesheet" href="../../styles/main.css">
    <meta property="docfx:navrel" content="../../toc">
    <meta property="docfx:tocrel" content="../toc">
    
    
    
  </head>
  <body data-spy="scroll" data-target="#affix">
    <div id="wrapper">
      <header>
        
        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              
              <a class="navbar-brand" href="../../index.html">
                <img id="logo" class="svg" src="../../logo.svg" alt="">
              </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="search">
                <div class="form-group">
                  <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
                </div>
              </form>
                <ul class="nav level1 navbar-nav">
                  <li class="">
                    <a href="http://prismlibrary.github.io/" title="Home" class="">Home</a>
                  </li>
                  <li class="active">
                    <a href="../../docs/index.html" title="Documentation" class="active">Documentation</a>
                  </li>
                  <li class="">
                    <a href="https://www.pluralsight.com/authors/brian-lagunas/" title="Learn" class="">Learn</a>
                  </li>
                </ul>
            </div>
          </div>
        </nav>
        
        <div class="subnav navbar navbar-default">
          <div class="container hide-when-search" id="breadcrumb">
            <ul class="breadcrumb">
              <li></li>
            </ul>
          </div>
        </div>
      </header>
      <div role="main" class="container body-content hide-when-search">
        <div class="sidenav hide-when-search">
          <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle">Show / Hide Table of Contents</a>
          <div class="sidetoggle collapse" id="sidetoggle">
            <div>
              <div class="sidefilter">
                <form class="toc-filter">
                  <span class="glyphicon glyphicon-filter filter-icon"></span>
                  <input type="text" id="toc_filter_input" placeholder="Enter here to filter..." onkeypress="if(event.keyCode==13) {return false;}">
                </form>
              </div>
              <div class="sidetoc">
                <div class="toc" id="toc">
                  
                  <ul class="nav level1">
                    <li class="">
                      <a href="../index.html" title="Introduction" class="">Introduction</a>
                    </li>
                    <li class="">
                      <span class="expand-stub"></span>
                      <a class="">Getting Started</a>
                        
                        <ul class="nav level2">
                          <li class="">
                            <a href="../Getting-Started/Download-and-Setup-Prism.html" title="Download and Setup Prism" class="">Download and Setup Prism</a>
                          </li>
                          <li class="">
                            <a href="../Getting-Started/NuGet-Packages.html" title="NuGet Packages" class="">NuGet Packages</a>
                          </li>
                          <li class="">
                            <a href="../Getting-Started/Assembly-Versioning.html" title="Assembly Versioning" class="">Assembly Versioning</a>
                          </li>
                        </ul>  </li>
                    <li class="">
                      <span class="expand-stub"></span>
                      <a class="">WPF</a>
                        
                        <ul class="nav level2">
                          <li class="">
                            <a href="../wpf/Introduction.html" title="Introduction" class="">Introduction</a>
                          </li>
                          <li class="">
                            <a href="../wpf/Initializing.html" title="Initializing" class="">Initializing</a>
                          </li>
                          <li class="">
                            <a href="../wpf/Managing-Dependencies.html" title="Managing-Dependencies" class="">Managing-Dependencies</a>
                          </li>
                          <li class="">
                            <a href="../wpf/Modules.html" title="Modules" class="">Modules</a>
                          </li>
                          <li class="">
                            <a href="../wpf/Implementing-MVVM.html" title="Implementing-MVVM" class="">Implementing-MVVM</a>
                          </li>
                          <li class="">
                            <a href="../wpf/Advanced-MVVM.html" title="Advanced-MVVM" class="">Advanced-MVVM</a>
                          </li>
                          <li class="">
                            <a href="../wpf/Composing-the-UI.html" title="Composing-the-UI" class="">Composing-the-UI</a>
                          </li>
                          <li class="">
                            <a href="../wpf/Navigation.html" title="Navigation" class="">Navigation</a>
                          </li>
                          <li class="">
                            <a href="../wpf/Communication.html" title="Communication" class="">Communication</a>
                          </li>
                          <li class="">
                            <a href="../wpf/Deploying.html" title="Deploying" class="">Deploying</a>
                          </li>
                          <li class="">
                            <a href="../wpf/Appendix-A-Glossary.html" title="Appendix-A-Glossary" class="">Appendix-A-Glossary</a>
                          </li>
                          <li class="">
                            <a href="../wpf/Appendix-B-Patterns.html" title="Appendix-B-Patterns" class="">Appendix-B-Patterns</a>
                          </li>
                          <li class="">
                            <a href="../wpf/Appendix-C-Prism-Library.html" title="Appendix-C-Prism-Library" class="">Appendix-C-Prism-Library</a>
                          </li>
                          <li class="">
                            <a href="../wpf/Appendix-D-Extending-Prism.html" title="Appendix-D-Extending-Prism" class="">Appendix-D-Extending-Prism</a>
                          </li>
                          <li class="">
                            <a href="../wpf/Appendix-E-Click-Once.html" title="Appendix-E-Click-Once" class="">Appendix-E-Click-Once</a>
                          </li>
                        </ul>  </li>
                    <li class="">
                      <span class="expand-stub"></span>
                      <a class="">Xamarin.Forms</a>
                        
                        <ul class="nav level2">
                          <li class="">
                            <a href="../Xamarin-Forms/1-Getting-Started.html" title="Getting Started" class="">Getting Started</a>
                          </li>
                          <li class="">
                            <a href="../Xamarin-Forms/2-ViewModelLocator.html" title="ViewModelLocator" class="">ViewModelLocator</a>
                          </li>
                          <li class="active">
                            <a href="../Xamarin-Forms/3-Navigation-Service.html" title="Navigation Service" class="active">Navigation Service</a>
                          </li>
                          <li class="">
                            <a href="../Xamarin-Forms/4-Page-Dialog-Service.html" title="Page Dialog Service" class="">Page Dialog Service</a>
                          </li>
                          <li class="">
                            <a href="../Xamarin-Forms/5-Dependency-Service.html" title="Dependency Service" class="">Dependency Service</a>
                          </li>
                          <li class="">
                            <a href="../Xamarin-Forms/6-EventToCommandBehavior.html" title="EventToCommandBehavior" class="">EventToCommandBehavior</a>
                          </li>
                          <li class="">
                            <a href="../Xamarin-Forms/7-Working-With-TabbedPages.html" title="Working with TabbedPages" class="">Working with TabbedPages</a>
                          </li>
                        </ul>  </li>
                  </ul>        </div>
              </div>
            </div>
          </div>
        </div>
        <div class="article row grid-right">
          <div class="col-md-10">
            <article class="content wrap" id="_content" data-uid="">
<h1 id="using-the-navigation-service">Using the Navigation Service</h1>

<p>Navigating in a Prism application is conceptually different than standard navigation in Xamarin.Forms.  While Xamarin.Forms navigation relies on a Page class instance to navigate, Prism removes all dependencies on Page types to achieve loosely coupled navigation from within a ViewModel.  In Prism, the concept of navigating to a View or navigating to a ViewModel does not exist.  Instead, you simply navigate to an experience, or a unique identifier, which represents the target view you wish to navigate to in your application.</p>
<p>Page navigation in Prism is accomplished by using the <strong>INavigationService</strong>.</p>
<h2 id="getting-the-navigation-service">Getting the Navigation Service</h2>
<p>To obtain the <strong>INavigationService</strong> in your ViewModels simply ask for it as a constructor parameter.  There is a caveat while injecting the Navigation Service into your ViewModels. The current version of the Prism.Forms library requires that you name the injection parameter precisely as <code>navigationService</code>. Otherwise the Navigation Service is unaware of the current View it is used on.  This is a limitation of the dependency injection container.</p>
<pre><code class="lang-cs">public MainPageViewModel(INavigationService navigationService) // has to be named correctly
{
  _navigationService = navigationService;
}
</code></pre><h2 id="navigating">Navigating</h2>
<p>Once you have the <strong>INavigationService</strong> in your ViewModel, you can navigate to your target views by calling the <code>INavigationService.NavigateAsync</code> method and provide the unique identifier/key that represents the target Page.</p>
<pre><code class="lang-cs">_navigationService.NavigateAsync(&quot;MainPage&quot;);
</code></pre><p>For more dynamic scenarios, or scenarios which involve navigating with Uris, you can use either a relative or an absolute Uri to navigate.</p>
<pre><code class="lang-cs">//relative
_navigationService.NavigateAsync(new Uri(&quot;MainPage&quot;, UriKind.Relative));

//absolute
_navigationService.NavigateAsync(new Uri(&quot;http://www.brianlagunas.com/MainPage&quot;, UriKind.Absolute);
</code></pre><p><em>Note: An absolute URI resets the navigation stack regardless of where you call it.  It is equivalent to <code>Application.Current.MainPage = new MainPage()</code></em></p>
<p><strong>Important:</strong> If you do not register your Pages with Prism, navigation will not work.</p>
<h2 id="registering">Registering</h2>
<p>Registering your Page for navigation is essentially mapping a unique identifier/key to the target view during the bootstrapping process.  In order to register your Pages for Navigation, override the <strong>RegisterTypes</strong> method in your <strong>Bootstrapper</strong>.</p>
<p>Bootstrapper:</p>
<pre><code class="lang-cs">protected override void RegisterTypes()
{
    //register pages for navigation
}
</code></pre><p>Next, use the <code>RegisterTypeForNavigation&lt;T&gt;</code> extension method off of the current dependency injection container.  There are three ways to register your Pages for navigation.</p>
<h3 id="default-registration">Default Registration</h3>
<p>By default, <strong>RegisterTypeForNavigation</strong> will use the <strong>Name</strong> of the Page type as the unique identifier/key.  The following code snippet results in a mapping between the MainPage type, and the unique identifier/key of &quot;MainPage&quot;.  This means when you request to navigate to the MainPage, you will provide the string &quot;MainPage&quot; as the navigation target.</p>
<pre><code class="lang-cs">protected override void RegisterTypes()
{
    Container.RegisterTypeForNavigation&lt;MainPage&gt;();
}
</code></pre><p>To navigate to the MainPage using this registration method:</p>
<pre><code class="lang-cs">_navigationService.NavigateAsync(&quot;MainPage&quot;);
</code></pre><h4 id="custom-registration">Custom Registration</h4>
<p>You can override this convention by providing a custom unique identifier/key as a method parameter.  In this case, we are overriding the convention for MainPage, and are creating a mapping between the MainPage Page type, and the unique identifier/key of &quot;CustomKey&quot;.  So when we want to navigate to the MainPage, we would provide the &quot;CustomKey&quot; as the navigation target.</p>
<pre><code class="lang-cs">protected override void RegisterTypes()
{
    Container.RegisterTypeForNavigation&lt;MainPage&gt;(&quot;CustomKey&quot;);
}
</code></pre><p>To navigate to the MainPage using this registration method:</p>
<pre><code class="lang-cs">_navigationService.NavigateAsync(&quot;CustomKey&quot;);
</code></pre><h2 id="gobackasync">GoBackAsync</h2>
<p>Going back to the previous View is as simple calling the <code>INavigationService.GoBackAsync</code> method. </p>
<pre><code class="lang-cs">_navigationService.GoBackAsync();
</code></pre><h2 id="passing-parameters">Passing parameters</h2>
<p>The Prism navigation service also allows you to pass parameters to the target view during the navigation process.  Passing parameters to the next View can be done using an overload of the <strong>INavigationService.NavigateAsync</strong> method. This overload accepts a <strong>NavigationParameters</strong> object that can be used to supply data to the next View. The <strong>NavigationParameters</strong> object is in fact just a dictionary. It can accept any arbitrary object as a value.</p>
<pre><code class="lang-cs">var navigationParams = new NavigationParameters ();
navigationParams.Add(&quot;model&quot;, new Contact ());
_navigationService.NavigateAsync(&quot;MainPage&quot;, navigationParams);
</code></pre><p>You can also create an HTML query string to generate your parameter collection.</p>
<pre><code class="lang-cs">var queryString = &quot;code=CR&amp;desc=Red&quot;;
var navigationParams = new NavigationParameters(queryString);
_navigationService.NavigateAsync(&quot;MainPage&quot;, navigationParameters);
</code></pre><p>When using a Uri to navigate, you may append the Uri with parameters, which will be used as the navigation parameters.</p>
<pre><code class="lang-cs">//query string
_navigationService.NavigateAsync(new Uri(&quot;MainPage?id=3&amp;name=brian&quot;, UriKind.Relative));

//using NavigationParameters in Uri
_navigationService.NavigateAsync(new Uri(&quot;MainPage&quot; + navParameters.ToString(), UriKind.Relative));

//using both Uri parameters and NavigationParameters
var navParameters = new NavigationParameters ();
navParameters.Add(&quot;name&quot;, &quot;brian&quot;);
_navigationService.NavigateAsync(new Uri(&quot;MainPage?id=3&quot;, UriKind.Relative), navParameters);
</code></pre><p>Getting to this data in the target View that is being navigated to, can be achieved by using the <strong>INavigationAware</strong> interface on the corresponding ViewModel.</p>
<h2 id="inavigationaware">INavigationAware</h2>
<p>The ViewModel of the target navigation Page can participate in the navigation process by implementing the <strong>INavigationAware</strong> interface.  This interface adds two methods to your ViewModel so you can intercept when the ViewModel is navigated to, or navigated away from.</p>
<p>Example:</p>
<pre><code class="lang-cs">public class ContactPageViewModel : INavigationAware
{
  private Contact _contact;

  public void OnNavigatedTo(NavigationParameters parameters)
  {
    _contact = (Contact)parameters[&quot;model&quot;];
  }

  public void OnNavigatedFrom(NavigationParameters parameters)
  {

  }
}
</code></pre><h2 id="iconfirmnavigation">IConfirmNavigation</h2>
<p>A ViewModel can determine whether or not it can perform a navigation operation. When a ViewModel implements the <strong>IConfirmNavigation</strong> or the <strong>IConfirmNavigationAsync</strong> interface, the navigation process looks to see what the result of this method is.  If <em>true</em>, a navigation process can be invoked, meaning a call to <code>NavigationService.NavigateAsync(&quot;target&quot;)</code> can be made.  If <em>false</em>, the ViewModel cannot invoke the navigation process. </p>
<pre><code class="lang-cs">public class ContactPageViewModel : IConfirmNavigation 
{
  public bool CanNavigate(NavigationParameters parameters)
  {
    return true;
  }
}
</code></pre></article>
          </div>
          
          <div class="hidden-sm col-md-2" role="complementary">
            <div class="sideaffix">
              <div class="contribution">
                <ul class="nav">
                  <li>
                    <a href="https://github.com/PrismLibrary/Prism-Documentation/blob/master/docs/Xamarin-Forms/3-Navigation-Service.md/#L1" class="contribution-link">Improve this Doc</a>
                  </li>
                </ul>
              </div>
              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
              <!-- <p><a class="back-to-top" href="#top">Back to top</a><p> -->
              </nav>
            </div>
          </div>
        </div>
      </div>
      
      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
            Copyright 2017 Prism
            
          </div>
        </div>
      </footer>
    </div>
    
    <script type="text/javascript" src="../../styles/docfx.vendor.js"></script>
    <script type="text/javascript" src="../../styles/docfx.js"></script>
    <script type="text/javascript" src="../../styles/main.js"></script>
  </body>
</html>
